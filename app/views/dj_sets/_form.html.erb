<%= form_with model: dj_set, class: 'card' do |f| %>
  <div class="card-body">
    <!-- Name -->
    <div class="mb-3">
      <%= f.label :name, class: 'form-label' %>
      <%= f.text_field :name, class: 'form-control', required: true, maxlength: 100, placeholder: 'e.g., Friday Night House Set' %>
      <% if dj_set.errors[:name].any? %>
        <div class="alert alert-danger alert-dismissible fade show mt-2 mb-0" role="alert">
          <%= dj_set.errors[:name].first %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% end %>
      <small class="text-muted">Must be unique</small>
    </div>

    <!-- Description -->
    <div class="mb-3" data-controller="character-counter">
      <%= f.label :description, class: 'form-label' %>
      <%= f.text_area :description,
          class: 'form-control',
          rows: 4,
          maxlength: 500,
          placeholder: 'Optional description...',
          data: {
            character_counter_target: "input",
            action: "input->character-counter#updateCount"
          } %>
      <% if dj_set.errors[:description].any? %>
        <div class="alert alert-danger alert-dismissible fade show mt-2 mb-0" role="alert">
          <%= dj_set.errors[:description].first %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% end %>
      <small class="text-muted">
        <span data-character-counter-target="counter"><%= dj_set.description&.length || 0 %></span> / 500 characters
      </small>
    </div>
  </div>

  <div class="card-footer">
    <%= f.submit class: 'btn btn-primary' %>
    <%= link_to 'Cancel', dj_set.new_record? ? dj_sets_path : dj_set_path(dj_set), class: 'btn btn-secondary' %>
  </div>
<% end %>
