<div class="container mt-4">
  <h1 class="text-center">Tracks</h1>
  <table id="tracks-table" class="table table-striped table-hover">
    <thead class="thead-dark">
    <tr>
      <th>Name</th>
      <th>Artist(s)</th>
      <th>Key</th>
      <th>BPM</th>
      <th>Time</th>
      <th>Album</th>
      <th>Date Added</th>
      <th>Comments</th>
      <th>Playlists</th>
    </tr>
    </thead>
    <tbody>
    <% @tracks.each do |track| %>
      <tr>
        <td><%= track.name %></td>
        <td>
          <% track.artists.each do |artist| %>
            <%= link_to artist.name, artist_path(artist), class: 'text-decoration-none text-dark' %>
            <%= ',' unless artist == track.artists.last %>
          <% end %>
        </td>
        <td><%= link_to track.key&.name, key_path(track.key), class: 'text-decoration-none text-dark' if track.key %></td>
        <td><%= track.bpm %></td>
        <td><%= format_time(track.time) %></td>
        <td><%= track.album %></td>
        <td><%= track.date_added %></td>
        <td><%= track.comments %></td>
        <td>
          <% track.playlists.each do |playlist| %>
            <%= link_to playlist.name, playlist_path(playlist), class: 'text-decoration-none text-dark' %>
            <%= ',' unless playlist == track.playlists.last %>
          <% end %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
